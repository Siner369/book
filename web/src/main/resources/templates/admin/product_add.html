<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8"/>
<title>后台管理系统</title>
<meta name="author" content="DeathGhost" />
<link rel="stylesheet" type="text/css" href="/css/style.css">
<!--[if lt IE 9]>
    <script src="/js/html5.js"></script>
    <![endif]-->
<script src="/js/jquery.js"></script>
<script src="/js/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="/js/cookie.js"></script>
<script src="/js/base.js"></script>
    <script>
    $(function () {
        $("#bookMsg").submit(function (data) {
            console.info("进入了工厂确定函数");
            //1.发送数据到服务器
            var strdata = $("#bookMsg").serializeObject();
            var str = JSON.stringify(strdata);
            alert(str);
            /*console.info("bname"+checkUsername());
            console.info("booktype"+checkTel());
            console.info("bpic"+doubleCheck());
            console.info("bprice"+checkEmail());
            console.info("mid"+checkPassword());
            console.info("bnum"+checkPassword());*/

            if (checkNotNull() && checkNotNum()){
                console.info("校验五个测试通过");
                $.ajax({
                    url:"/doReg",
                    contentType:"application/json;charset=UTF-8",
                    type:"post",
                    data:str,
                    dataType:"json",
                    success:function (data) {
                        //注册成功，跳转成功页面
                        if (data){
                            console.info("跳转index");
                            location.href="index.html";
                        }
                    },
                    error:function(){
                        console.info("Error");
                    }
                });
            }
            //2.不让页面跳转
            return false;
            //如果这个方法没有返回值，或者返回为true，则表单提交，如果返回为false，则表单不提交
        })
    })
        function checkNotNull() {
        var bname = $("#bname");
        var booktype = $("#booktype");
        var mid = $("#mid");

        return false;

        }

        function checkNotNum() {
            var bname = $("#bname");
            var booktype = $("#booktype");
            var mid = $("#mid");

        return false;

        }
</script>
</head>
<body>
<!--header-->
<header>
 <h1><img src="/images/admin_logo.png"/></h1>
 <ul class="rt_nav">
  <li><a href="#" target="_blank" class="website_icon">站点首页</a></li>
  <li><a href="#" class="clear_icon">清除缓存</a></li>
     <li><a th:text="${session.mname}" class="admin_icon"></a></li>
     <li><a href="#" class="set_icon">账号设置</a></li>
     <li><a href="login.html" onclick="return logout()" class="quit_icon">安全退出</a></li>
 </ul>
</header>
<!--aside nav-->
<!--aside nav-->
<aside class="lt_aside_nav content mCustomScrollbar">
 <h2><a href="/admin/index">后台中心</a></h2>
 <ul>
  <li>
   <dl>
    <dt>商品信息</dt>
    <!--当前链接则添加class:active-->
    <dd><a href="/findBook">商品检索管理</a></dd>
    <dd><a href="/addPage">上架新商品</a></dd>
    <dd><a href="recycle_bin.html">下架商品管理</a></dd>
    <dd><a href="user_list.html">评价管理</a></dd>
   </dl>
  </li>
  
  <li>
   <dl>
    <dt>订单信息</dt>
    <dd><a href="order_list.html">订单管理</a></dd>
    <!--<dd><a href="order_detail.html">订单详情</a></dd>-->
   </dl>
  </li>
  <li>
   <dl>
    <dt>会员管理</dt>
    <dd><a href="user_list.html">会员列表</a></dd>
    <dd><a href="user_detail.html">会员详情</a></dd>
   </dl>
  </li>

  <li>
   <p class="btm_infor">©1606401-13 YeXing</p>
  </li>
 </ul>
</aside>

<section class="rt_wrap content mCustomScrollbar">
 <div class="rt_content">
      <div class="page_title">
       <h2 class="fl">商品详情示例</h2>
       <a class="fr top_rt_btn">返回产品列表</a>
      </div>
     <section>
    <form id="bookMsg"><!--/addBook-->
      <ul class="ulColumn2">
       <li>
        <span class="item_name" style="width:120px;">商品名称：</span>
        <input id="bname" name="bname" type="text" class="textbox textbox_295" placeholder="商品名称..."/>
        <span class="errorTips">错误提示信息...</span>
       </li>
          <li>
              <span class="item_name" style="width:120px;">书籍类型：</span>
              <select name="booktype" id="booktype" class="select">
                  <option value="0">选择产品分类</option>
                  <option value="social">人文社科类</option>
                  <option value="novel">小说类</option>
                  <option value="edu">教育类</option>
              </select>
              <span class="errorTips">错误提示信息...</span>
          </li>
       <li>
        <span class="item_name" style="width:120px;">商家ID：</span>
           <input name="mid" id="mid" type="text" disabled="disabled" th:value="${session.usertype}" class="textbox" />
        <span class="errorTips">错误提示信息...</span>
       </li>
          <li>
              <span class="item_name" style="width:120px;">售价：</span>
              <input type="text" id="bprice" name="bprice" class="textbox" placeholder="0.00"/> 元
              <span class="errorTips">错误提示信息...</span>
          </li>
          <li>
              <span class="item_name" style="width:120px;">库存：</span>
              <input type="text" id="bnum" name="bnum" class="textbox" placeholder="1000"/> 本
              <span class="errorTips">错误提示信息...</span>
          </li>

       <li>
        <span class="item_name" style="width:120px;">上传图片：</span>
        <label class="uploadImg">
         <input name="bpic" id="bpic" type="file"/>
         <span>上传图片</span>
        </label>
       </li>
       <li>
        <span class="item_name" style="width:120px;"></span>
        <input type="submit"  class="link_btn"/>
       </li>
      </ul>
         </form>
     </section>
 </div>
</section>

</body>
</html>
